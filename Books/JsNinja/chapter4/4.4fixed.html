<html>
	<head>
		<title>Recursion using a missing function reference</title>
		<script type="text/javascript" src="../assert.js"></script>
		<link href="../assert.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
		<script type="text/javascript">
			var ninja = {
				chirp: function(n){
					return n > 1 ? this.chirp(n - 1) + '-chirp' : 'chirp';
				}
			};

			// Creates a chirp() method on samurai by referencing the existing method
			// of same name on ninja.  Why write the code twice when we already have
			// an implementation?
			var samurai = {chirp : ninja.chirp};

			// Redefines ninja such that it has no properties 
			// This means that its chirp property goes away
			ninja = {};

			try{
				assert(samurai.chirp(3) == 'chirp-chirp-chirp', 'Is this going to work?');
			}
			catch(e){
				assert(false, "Uh, this isn't good!  Where'd ninja.chirp go?");
			}
		</script>