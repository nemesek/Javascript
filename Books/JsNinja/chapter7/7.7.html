<html>
  <head>
    <title>Using backreferences to match the contents of an HTML tag</title>
    <script type="text/javascript" src="../assert.js"></script>
    <link type="text/css" rel="stylesheet" href="../assert.css"/>
  </head>
  <body>
    <script type="text/javascript">
      var html = "<b class='hello'>Hello</b> <i>world!</i>";

      // uses capture backreference
      var pattern = /<(\w+)([^>]*)>(.*?)<\/\1>/g;

      var match = pattern.exec(html);

      assert(match[0] == "<b class='hello'>Hello</b>", "The entire tag, start to finish.");
      assert(match[1] == "b", "The tag name.");
      assert(match[2] == " class='hello'", "The tag attributes.");
      assert(match[3] == "Hello", "The contents of the tag.");

      match = pattern.exec(html);
      assert(match[0] == "<i>world!</i>", "The entire tag, start to finish.");
      assert(match[1] == "i", "The tag name.");
      assert(match[2] == "", "The tag attributes.");
      assert(match[3] == "world!", "The contents of the tag.");
    </script>
  </body>
</html>
