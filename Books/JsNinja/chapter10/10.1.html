<html>
  <head>
    <title>Creating a with scope using an object</title>
    <script type="text/javascript" src="../assert.js"></script>
    <link href="../assert.css" rel="stylesheet" type="text/css"/>
  </head>
  <body>
      <script type="text/javascript">
        // defines a top level variable
        var use = "other";

        // creates an object
        var katana = {
          isSharp: true,
          use: function(){
            this.isSharp = !this.isSharp;
          }
        };

        // establishes a with scope
        with(katana){
          assert(use !== "other" && typeof use == "function", "use is a function from the katana object.");
          assert(this !== katana, "context isn't changed; keeps its original value");
        }

        assert(use === "other", "outside the with use is unaffected.");
        assert(typeof isSharp === "undefined", "outside the with the properties don't exist.");
      </script>
  </body>
</html>
