<html>
  <head>
    <script type="text/javascript" src="Reactor.js"></script>
  </head>
  <body>
      <script type="text/javascript">
        var reactor = new Reactor();

        reactor.registerEvent('userInitialized');

        var id1 = reactor.addEventListener('userInitialized', function(){
          console.log('The Wrong VM is listening');
        });

        var id2 = reactor.addEventListener('userInitialized', function(){
          console.log('PostLoginLayout VM got the user');
        });

        reactor.removeEventListener('userInitialized', id1);
        var id3 = reactor.addEventListener('userInitialized', function(){
          console.log('Meant to add Dashboard VM');
        });

        reactor.dispatchEvent('userInitialized');

        var id4 = reactor.addEventListener('userInitialized', function(){
          console.log('Profile VM');
        });

        //console.log('about to reset the event');
        //reactor.resetEvent('big bang');
        reactor.removeEventListener('userInitialized', id3);
        console.log('dispatch the event again');
        reactor.dispatchEvent('userInitialized');
      </script>
  </body>
</html>
